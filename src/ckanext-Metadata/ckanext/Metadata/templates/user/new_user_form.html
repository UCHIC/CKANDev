{% import "macros/form.html" as form %}

{%- block scripts %}
  {% resource 'metadata_resources/scripts/user_registration.js' %}
{% endblock -%}

<form class="form-horizontal" action="" method="post">
  {{ form.errors(error_summary) }}
  {{ form.input("name", id="field-username", label=_("Username"), placeholder="username", value=data.name, error=errors.name, classes=["control-medium"]) }}
  {{ form.input("fullname", id="field-fullname", label=_("Full Name"), placeholder="Joe Bloggs", value=data.fullname, error=errors.fullname, classes=["control-medium"]) }}
  {{ form.input("email", id="field-email", label=_("Email"), type="email", placeholder="joe@example.com", value=data.email, error=errors.email, classes=["control-medium"]) }}
  {{ form.input("password1", id="field-password", label=_("Password"), type="password", placeholder="••••••••", value=data.password1, error=errors.password1, classes=["control-medium"]) }}
  {{ form.input("password2", id="field-confirm-password", label=_("Confirm"), type="password", placeholder="••••••••", value=data.password2, error=errors.password1, classes=["control-medium"]) }}
  <div class="form-group">
    <div class="checkbox">
        <label>
          <input type="checkbox" id="chkDataPublishAgreement" >Agree to data Publisher's agreement in order to create account
        </label>
    </div>
    <br>
    <div class="button">
        <button type="button" class="btn btn-default btn-xm" id="btnShowAgreement" onclick="showDataPublishAgreementDialog()" >{{ _('Show agreement') }}</button>
    </div>

  </div>
  <div class="form-actions">
    <button class="btn btn-primary" type="submit" name="save" id="btnCreateAccount">{{ _("Create Account") }}</button>
  </div>

</form>
<div class="modal fade" id="showDataPublishModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index: -1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">Data Publisher's Agreement</h4>
            </div>
            <div class="modal-body" style="font-weight: bold">
              {% block agreement %}
                <p>
                    To support a collaborative research environment, the iUTAH Modeling & Data Federation (MDF)
                    publishes data generated by the iUTAH research community and makes these data available on the
                    Internet. The iUTAH MDF also supports fulfillment of the National Science Foundation’s data sharing
                    policy <a href="https://www.nsf.gov/bfa/dias/policy/dmp.jsp" target="_blank">(https://www.nsf.gov/bfa/dias/policy/dmp.jsp)</a>
                    and the provisions of the iUTAH Data Management Plan.  Your participation will encourage scientific
                    inquiry, enable new research exploration, and facilitate education by providing the scientific
                    community and iUTAH partners with relevant, easily accessible data.  Shared data will be made
                    available to Data Users according to the standard iUTAH Data Use Agreement.
                </p>
                <p>
                    By your acceptance of these terms, you state that you are the creator of the data and have the
                    right to publish the data.  You further agree to the following provisions for yourself and any
                    collaborators with whom you coordinate the submission of these data:
                    <br>
                    <ol>
                        <li>As the Contributor, I am solely responsible for the integrity of these data put forward for submission.</li>
                        <li>I will use data upload capabilities provided by the iUTAH MDF to submit my data.</li>
                        <li>I will provide current contact information, including name, organization, phone number,
                            e-mail address, and acceptance of the standard iUTAH Data Use Agreement upon submitting my data.</li>
                        <li>I will provide a minimum set of associated metadata to sufficiently describe submitted
                            data and to ensure that shared data are meaningful and useful to the scientific community
                            and iUTAH partners.</li>
                        <li>I agree to work with the iUTAH MDF staff to ensure that these data are provided in readable formats.</li>
                        <li>I agree to make these data publicly available in accordance with an agreed upon timeline
                            with no restrictions for use other than those stated in the standard iUTAH MDF Data Use Agreement.</li>
                        <li>I understand that upon uploading data to the iUTAH MDF, iUTAH will index metadata describing
                            my dataset to support rapid data discovery via the iUTAH Metadata Catalog.</li>
                        <li>I understand that iUTAH will maintain a logging system that tracks downloads of these data
                            for the purpose of reporting data usage and download statistics to the National Science Foundation.</li>
                    </ol>
                </p>
              {% endblock %}
            </div>

            <div class="modal-footer" >
              <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
            </div>

          </div><!-- /.modal-content -->

        </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
